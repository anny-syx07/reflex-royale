<!DOCTYPE html><html lang="vi"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Conquest Debug - Test Action Submission</title><style>body{font-family:monospace;padding:20px;background:#1e1e1e;color:#0f0}.log{background:#000;padding:10px;margin:10px 0;border:1px solid #0f0;max-height:400px;overflow-y:auto}button{background:#0f0;color:#000;border:none;padding:10px 20px;margin:5px;cursor:pointer;font-weight:700}button:hover{background:#0c0}.success{color:#0f0}.error{color:red}.info{color:#0af}</style></head><body><h1>üêõ Conquest Action Submission Debug</h1><div><button onclick="createRoom()">1. Create Room</button> <button onclick="joinRoom()">2. Join Room</button> <button onclick="startGame()">3. Start Game</button> <button onclick="submitTestActions()">4. Submit 3 Actions</button> <button onclick="clearLog()">Clear Log</button></div><h3>Room Code: <span id="roomCode" style="color:#ff0">---</span></h3><h3>Status: <span id="status">Not started</span></h3><div class="log" id="log"></div><script src="/socket.io/socket.io.js"></script><script>const socket=io();let roomCode=null;function log(o,e="info"){const t=document.getElementById("log"),n=(new Date).toLocaleTimeString();t.innerHTML+=`<div class="${e}">[${n}] ${o}</div>`,t.scrollTop=t.scrollHeight}function clearLog(){document.getElementById("log").innerHTML=""}function createRoom(){log("Creating conquest room...","info"),socket.emit("createConquestRoom")}function joinRoom(){roomCode?(log(`Joining room ${roomCode}...`,"info"),socket.emit("joinConquestRoom",{roomCode:roomCode,nickname:"DebugPlayer"})):log("‚ùå No room code! Create room first.","error")}function startGame(){roomCode?(log("Starting game...","info"),socket.emit("startConquestGame",{roomCode:roomCode})):log("‚ùå No room code!","error")}function submitTestActions(){if(!roomCode)return void log("‚ùå No room code!","error");const o=[{x:1,y:1},{x:2,y:2},{x:3,y:3}];log(`üì§ Submitting ${o.length} actions: ${JSON.stringify(o)}`,"info"),socket.emit("conquestSubmitActions",{roomCode:roomCode,actions:o}),log("‚úÖ Actions emitted to server","success")}socket.on("conquestRoomCreated",o=>{roomCode=o.roomCode,document.getElementById("roomCode").textContent=roomCode,document.getElementById("status").textContent="Room created",log(`‚úÖ Room created: ${roomCode}`,"success")}),socket.on("conquestJoined",()=>{document.getElementById("status").textContent="Joined room",log("‚úÖ Joined room successfully","success")}),socket.on("conquestRoundStart",o=>{document.getElementById("status").textContent=`Round ${o.roundNumber}`,log(`üéÆ Round ${o.roundNumber} started - Duration: ${o.duration}ms`,"success")}),socket.on("conquestMapUpdate",o=>{let e=0;for(let t=0;t<10;t++)for(let n=0;n<10;n++)null!==o.grid[t][n]&&e++;log(`üìä MAP UPDATE: ${e} cells claimed, ${o.conflictsThisRound.length} conflicts`,"success")}),socket.on("conquestRoundEnd",o=>{log(`üèÅ Round ended - Your territory: ${o.yourTerritory}`,"success")}),socket.on("error",o=>{log(`‚ùå Error: ${o.message}`,"error")}),log("Debug page loaded. Follow steps 1-4 to test.","info")</script></body></html>